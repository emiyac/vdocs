import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.eabe3503.js";const E=JSON.parse('{"title":"lvm逻辑卷管理","description":"","frontmatter":{"title":"lvm逻辑卷管理","createTime":"2024/05/13 21:00:00","updateTime":"2024/05/13 21:00:00","isPublished":true},"headers":[],"relativePath":"linux/00401_lvm_tutorial.md","filePath":"linux/00401_lvm_tutorial.md"}'),p={name:"linux/00401_lvm_tutorial.md"},e=l(`<h2 id="lvm逻辑卷管理" tabindex="-1">lvm逻辑卷管理 <a class="header-anchor" href="#lvm逻辑卷管理" aria-label="Permalink to &quot;lvm逻辑卷管理&quot;">​</a></h2><blockquote><p>LVM（Logical Volume Manager）是一种基于Linux的磁盘管理工具，它允许你创建、调整和删除逻辑卷。LVM将物理磁盘分成逻辑块，然后对这些逻辑块进行管理。这样，你可以将不同物理磁盘上的数据组合成单个逻辑卷，从而提供更大的存储空间。LVM还可以实现数据冗余和多路径存储，从而提高数据安全性</p></blockquote><h3 id="lvm的组成" tabindex="-1">lvm的组成 <a class="header-anchor" href="#lvm的组成" aria-label="Permalink to &quot;lvm的组成&quot;">​</a></h3><ul><li>PV（Physical Volume）：物理卷是物理磁盘的分区或整块磁盘，它是LVM的基本存储单元。</li><li>VG（Volume Group）：卷组是由一个或多个物理卷组成的存储池，可以包含多个逻辑卷。</li><li>LV（Logical Volume）：逻辑卷是LVM的逻辑存储单元，它可以是固定大小的或可调整大小的。</li><li>PE（Physical Extent）：物理扩展是LVM的逻辑存储单元，它是LVM的基本存储单元。</li></ul><h3 id="准备工作" tabindex="-1">准备工作 <a class="header-anchor" href="#准备工作" aria-label="Permalink to &quot;准备工作&quot;">​</a></h3><p>如下所示：有两块磁盘<code>/dev/sdb</code>和<code>/dev/sdc</code>,其中<code>/dev/sdb</code>用来创建逻辑卷并且格式化后挂载到<code>/data1</code>和<code>/data2</code>目录，<code>/dev/sdc</code>用于扩容这两个目录</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#FFCB6B;">lsblk</span></span>
<span class="line"><span style="color:#FFCB6B;">NAME</span><span style="color:#BABED8;">            </span><span style="color:#C3E88D;">MAJ:MIN</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">RM</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">SIZE</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">RO</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">TYPE</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">MOUNTPOINT</span></span>
<span class="line"><span style="color:#FFCB6B;">sda</span><span style="color:#BABED8;">               </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:0</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">20</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">disk</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">├─sda1</span><span style="color:#BABED8;">            </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:1</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">part</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/boot</span></span>
<span class="line"><span style="color:#FFCB6B;">└─sda2</span><span style="color:#BABED8;">            </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:2</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">19</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">part</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#FFCB6B;">├─centos-root</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">253</span><span style="color:#C3E88D;">:0</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">17</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">lvm</span><span style="color:#BABED8;">  </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#FFCB6B;">└─centos-swap</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">253</span><span style="color:#C3E88D;">:1</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">lvm</span><span style="color:#BABED8;">  [SWAP]</span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">sdb</span><span style="color:#BABED8;">               </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:16</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">disk</span><span style="color:#BABED8;"> </span></span>
<span class="line highlighted"><span style="color:#FFCB6B;">sdc</span><span style="color:#BABED8;">               </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">:32</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;">   </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">disk</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">sr0</span><span style="color:#BABED8;">              </span><span style="color:#F78C6C;">11</span><span style="color:#C3E88D;">:0</span><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1024</span><span style="color:#C3E88D;">M</span><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">rom</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="lvm的创建" tabindex="-1">lvm的创建 <a class="header-anchor" href="#lvm的创建" aria-label="Permalink to &quot;lvm的创建&quot;">​</a></h3><p>step01 创建<code>pv(物理卷)</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 使用/dev/sdb来创建pv</span></span>
<span class="line"><span style="color:#FFCB6B;">pvcreate</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/sdb</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Physical volume &quot;/dev/sdb&quot; successfully created.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看pv</span></span>
<span class="line"><span style="color:#FFCB6B;">pvs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/sdb</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   PV         VG Fmt  Attr PSize  PFree </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   /dev/sdb      lvm2 ---  10.00g 10.00g</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看pv详细信息</span></span>
<span class="line"><span style="color:#FFCB6B;">pvdisplay</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/sdb</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>step02 创建<code>vg(卷组)</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 基于pv创建vg</span></span>
<span class="line"><span style="color:#FFCB6B;">vgcreate</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vgdata</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/sdb</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Volume group &quot;vgdata&quot; successfully created</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 移除vg</span></span>
<span class="line"><span style="color:#FFCB6B;">vgremove</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vgdata</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Volume group &quot;vgdata&quot; successfully removed</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看vg</span></span>
<span class="line"><span style="color:#FFCB6B;">vgs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vgdata</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   VG     #PV #LV #SN Attr   VSize   VFree  </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   vgdata   1   0   0 wz--n- &lt;10.00g &lt;10.00g</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看vg相信信息</span></span>
<span class="line"><span style="color:#FFCB6B;">vgdisplay</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vgdata</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>step03 创建<code>lvm(逻辑卷)</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 基于vg创建名为data1的lvm并设置大小5G</span></span>
<span class="line"><span style="color:#FFCB6B;">lvcreate</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">5</span><span style="color:#C3E88D;">G</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">data1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Logical volume &quot;data&quot; created.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 用剩余的空间创建名为data2的lvm</span></span>
<span class="line"><span style="color:#FFCB6B;">lvcreate</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">+100%FREE</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-n</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">data2</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Logical volume &quot;data2&quot; created. </span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看lv</span></span>
<span class="line"><span style="color:#FFCB6B;">lvs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   LV    VG     Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   data1 vgdata -wi-a-----  5.00g                                                    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   data2 vgdata -wi-a----- &lt;5.00g</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看lv详细信息</span></span>
<span class="line"><span style="color:#FFCB6B;">lvdisplay</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>step04 格式化<code>lvm(逻辑卷)</code>并挂载到对应的文件目录</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/data1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/data2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># /dev/vgdata/data1使用ext4格式化并挂载到/data1</span></span>
<span class="line"><span style="color:#FFCB6B;">mkfs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ext4</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 临时挂载</span></span>
<span class="line"><span style="color:#FFCB6B;">mount</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/data1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看块设备UUID</span></span>
<span class="line"><span style="color:#FFCB6B;">blkid</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data1</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 永久挂载/etc/fstab</span></span>
<span class="line"><span style="color:#BABED8;">UUID</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">4</span><span style="color:#C3E88D;">a858fad-bee2-480b-95be-7294c73a4122</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">/data1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">ext4</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">defaults</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># /dev/vgdata/data2使用xfs格式化并挂载到/data2</span></span>
<span class="line"><span style="color:#FFCB6B;">mkfs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">xfs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 临时挂载</span></span>
<span class="line"><span style="color:#FFCB6B;">mount</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data2</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/data2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看块设备UUID</span></span>
<span class="line"><span style="color:#FFCB6B;">blkid</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 永久挂载/etc/fstab</span></span>
<span class="line"><span style="color:#BABED8;">UUID</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">c63f7744-5f88-4d60-921a-f70f5b859e5d</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">/data2</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">xfs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">defaults</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="lvm的扩容" tabindex="-1">lvm的扩容 <a class="header-anchor" href="#lvm的扩容" aria-label="Permalink to &quot;lvm的扩容&quot;">​</a></h3><p>step01 创建<code>pv(物理卷)</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">pvcreate</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/sdc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>step02 扩容<code>vg(卷组)</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 扩容vgdata</span></span>
<span class="line"><span style="color:#FFCB6B;">vgextend</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">vgdata</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/sdc</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看vg信息</span></span>
<span class="line"><span style="color:#FFCB6B;">vgs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   VG     #PV #LV #SN Attr   VSize  VFree  </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   vgdata   2   2   0 wz--n- 19.99g &lt;10.00g</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>step03 扩容<code>lvm(逻辑卷)</code></p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 扩容/dev/vgdata/data1增加6G</span></span>
<span class="line"><span style="color:#FFCB6B;">lvextend</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-L</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">+6G</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data1</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Size of logical volume vgdata/data1 changed from 5.00 GiB (1280 extents) to 10.00 GiB (2560 extents).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Logical volume vgdata/data1 successfully resized.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 刷新、重新设置/dev/vgdata/data1大小</span></span>
<span class="line"><span style="color:#FFCB6B;">resize2fs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将剩余空间扩容至/dev/vgdata/data2</span></span>
<span class="line"><span style="color:#FFCB6B;">lvextend</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">+100%FREE</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/dev/vgdata/data2</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Size of logical volume vgdata/data2 changed from &lt;5.00 GiB (1279 extents) to 8.99 GiB (2302 extents).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   Logical volume vgdata/data2 successfully resized.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 扩容/data2大小</span></span>
<span class="line"><span style="color:#FFCB6B;">xfs_growfs</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/data2</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div>`,23),o=[e];function t(c,r,i,y,B,d){return a(),n("div",null,o)}const C=s(p,[["render",t]]);export{E as __pageData,C as default};
